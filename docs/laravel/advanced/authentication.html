<!DOCTYPE html>
<html lang="nl-BE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authenticatie | Advanced Development &amp; Laravel</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link href="https://www.gdm.gent/vuepress-theme-artevelde/favicon.svg" rel="icon">
    <meta name="description" content="Advanced Development with PHP &amp; MVC with Laravel">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    
    <link rel="preload" href="/laravel/assets/css/0.styles.8c21ca99.css" as="style"><link rel="preload" href="/laravel/assets/js/app.c5ce5469.js" as="script"><link rel="preload" href="/laravel/assets/js/2.7ca25b29.js" as="script"><link rel="preload" href="/laravel/assets/js/45.19ff6814.js" as="script"><link rel="preload" href="/laravel/assets/js/5.bcb32e3f.js" as="script"><link rel="preload" href="/laravel/assets/js/20.21de2408.js" as="script"><link rel="preload" href="/laravel/assets/js/3.19667c3e.js" as="script"><link rel="prefetch" href="/laravel/assets/js/10.ecb9d3b1.js"><link rel="prefetch" href="/laravel/assets/js/11.e2e5ea52.js"><link rel="prefetch" href="/laravel/assets/js/12.0a01757a.js"><link rel="prefetch" href="/laravel/assets/js/13.e5b66718.js"><link rel="prefetch" href="/laravel/assets/js/14.edb19de0.js"><link rel="prefetch" href="/laravel/assets/js/15.fc4a971d.js"><link rel="prefetch" href="/laravel/assets/js/16.efd02c56.js"><link rel="prefetch" href="/laravel/assets/js/17.18817059.js"><link rel="prefetch" href="/laravel/assets/js/18.e103b0bd.js"><link rel="prefetch" href="/laravel/assets/js/19.0db8ae57.js"><link rel="prefetch" href="/laravel/assets/js/21.a39c3e51.js"><link rel="prefetch" href="/laravel/assets/js/22.89520908.js"><link rel="prefetch" href="/laravel/assets/js/23.19310e90.js"><link rel="prefetch" href="/laravel/assets/js/24.b5a983f1.js"><link rel="prefetch" href="/laravel/assets/js/25.2a38243c.js"><link rel="prefetch" href="/laravel/assets/js/26.11379986.js"><link rel="prefetch" href="/laravel/assets/js/27.05317e09.js"><link rel="prefetch" href="/laravel/assets/js/28.aaa1f015.js"><link rel="prefetch" href="/laravel/assets/js/29.4874851e.js"><link rel="prefetch" href="/laravel/assets/js/30.5f535157.js"><link rel="prefetch" href="/laravel/assets/js/31.b82886f4.js"><link rel="prefetch" href="/laravel/assets/js/32.1d2c13f4.js"><link rel="prefetch" href="/laravel/assets/js/33.448ce24f.js"><link rel="prefetch" href="/laravel/assets/js/34.b033ff4c.js"><link rel="prefetch" href="/laravel/assets/js/35.856778d0.js"><link rel="prefetch" href="/laravel/assets/js/36.996a91be.js"><link rel="prefetch" href="/laravel/assets/js/37.52c631e5.js"><link rel="prefetch" href="/laravel/assets/js/38.447fbe00.js"><link rel="prefetch" href="/laravel/assets/js/39.eb1988eb.js"><link rel="prefetch" href="/laravel/assets/js/4.8419dae3.js"><link rel="prefetch" href="/laravel/assets/js/40.a5bef146.js"><link rel="prefetch" href="/laravel/assets/js/41.0773fed8.js"><link rel="prefetch" href="/laravel/assets/js/42.3d618cce.js"><link rel="prefetch" href="/laravel/assets/js/43.455a311f.js"><link rel="prefetch" href="/laravel/assets/js/44.a371ec30.js"><link rel="prefetch" href="/laravel/assets/js/46.b7643451.js"><link rel="prefetch" href="/laravel/assets/js/47.f8d7b972.js"><link rel="prefetch" href="/laravel/assets/js/48.2b5f91a5.js"><link rel="prefetch" href="/laravel/assets/js/49.eec25c4e.js"><link rel="prefetch" href="/laravel/assets/js/50.e9a4caec.js"><link rel="prefetch" href="/laravel/assets/js/51.30f19478.js"><link rel="prefetch" href="/laravel/assets/js/52.e8fc4545.js"><link rel="prefetch" href="/laravel/assets/js/53.077d7cf0.js"><link rel="prefetch" href="/laravel/assets/js/54.b0bfc330.js"><link rel="prefetch" href="/laravel/assets/js/55.fe1224cf.js"><link rel="prefetch" href="/laravel/assets/js/56.df8e9c0c.js"><link rel="prefetch" href="/laravel/assets/js/57.0ea24c9e.js"><link rel="prefetch" href="/laravel/assets/js/58.a6c5f60d.js"><link rel="prefetch" href="/laravel/assets/js/59.bb4092c0.js"><link rel="prefetch" href="/laravel/assets/js/6.fe7def5f.js"><link rel="prefetch" href="/laravel/assets/js/60.761c3638.js"><link rel="prefetch" href="/laravel/assets/js/61.1df358ba.js"><link rel="prefetch" href="/laravel/assets/js/62.0913f061.js"><link rel="prefetch" href="/laravel/assets/js/63.d6a4012b.js"><link rel="prefetch" href="/laravel/assets/js/64.6f2be1ed.js"><link rel="prefetch" href="/laravel/assets/js/65.37aa1afd.js"><link rel="prefetch" href="/laravel/assets/js/66.344e8e8a.js"><link rel="prefetch" href="/laravel/assets/js/7.9bcc9051.js"><link rel="prefetch" href="/laravel/assets/js/8.fcd07718.js"><link rel="prefetch" href="/laravel/assets/js/9.e67ff90f.js">
    <link rel="stylesheet" href="/laravel/assets/css/0.styles.8c21ca99.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="navbar-item"><div class="sidebar-button"><svg fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg" class="sidebar-icon sidebar-closing-icon"><path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"></path> <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"></path></svg> <svg fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg" class="sidebar-icon sidebar-opening-icon"><path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path></svg></div></div> <a href="/laravel/" class="navbar-item home-link router-link-active"><img src="https://www.gdm.gent/vuepress-theme-artevelde/artevelde__icon--white.svg" alt="Advanced Development &amp; Laravel" class="logo"> <span class="site-name">Advanced Development &amp; Laravel</span></a> <div class="search-box navbar-item"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links navbar-item can-hide"><div class="nav-item"><a href="/laravel/concepts/" class="nav-link">Basisconcepten</a></div><div class="nav-item"><a href="/laravel/laravel/" class="nav-link router-link-active">Laravel</a></div><div class="nav-item"><a href="/laravel/mailing/" class="nav-link">Mailing</a></div><div class="nav-item"><a href="/laravel/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Taal</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/laravel/laravel/advanced/authentication.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">Nederlands</a></li><li class="dropdown-item"><!----> <a href="/laravel/en/" class="nav-link">English</a></li></ul></div></div> <!----> <!----></nav></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/laravel/concepts/" class="nav-link">Basisconcepten</a></div><div class="nav-item"><a href="/laravel/laravel/" class="nav-link router-link-active">Laravel</a></div><div class="nav-item"><a href="/laravel/mailing/" class="nav-link">Mailing</a></div><div class="nav-item"><a href="/laravel/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Taal</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/laravel/laravel/advanced/authentication.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">Nederlands</a></li><li class="dropdown-item"><!----> <a href="/laravel/en/" class="nav-link">English</a></li></ul></div></div> <!----> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/laravel/laravel/" class="router-link-active sidebar-heading clickable open"><span>Laravel MVC Framework</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group depth-1 collapsable is-sub-group"><a href="/laravel/laravel/basics/" class="sidebar-heading clickable"><span>De basis</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group depth-1 collapsable is-sub-group"><a href="/laravel/laravel/databases/" class="sidebar-heading clickable"><span>Werken met een database</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group depth-1 collapsable is-sub-group"><a href="/laravel/laravel/advanced/" class="router-link-active sidebar-heading clickable open"><span>Dieper in op Laravel</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/laravel/laravel/advanced/authentication.html" aria-current="page" class="active sidebar-link">Authenticatie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/laravel/laravel/advanced/authentication.html#mogelijkheden" class="sidebar-link">Mogelijkheden</a></li><li class="sidebar-sub-header"><a href="/laravel/laravel/advanced/authentication.html#laravel-ui" class="sidebar-link">Laravel UI</a></li><li class="sidebar-sub-header"><a href="/laravel/laravel/advanced/authentication.html#laravel-breeze" class="sidebar-link">Laravel Breeze</a></li><li class="sidebar-sub-header"><a href="/laravel/laravel/advanced/authentication.html#authenticatie-toepassen" class="sidebar-link">Authenticatie toepassen</a></li><li class="sidebar-sub-header"><a href="/laravel/laravel/advanced/authentication.html#huidige-user-ophalen" class="sidebar-link">Huidige user ophalen</a></li><li class="sidebar-sub-header"><a href="/laravel/laravel/advanced/authentication.html#middleware-zelf-aanmaken" class="sidebar-link">Middleware zelf aanmaken</a></li></ul></li><li><a href="/laravel/laravel/advanced/file-storage.html" class="sidebar-link">File Storage</a></li><li><a href="/laravel/laravel/advanced/localization.html" class="sidebar-link">Localization</a></li></ul></section></li><li><section class="sidebar-group depth-1 collapsable is-sub-group"><a href="/laravel/laravel/how-to/" class="sidebar-heading clickable"><span>How to</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="authenticatie"><a href="#authenticatie" class="header-anchor">#</a> Authenticatie</h1> <p><em>Authenticatie is een belangrijk onderdeel van elke applicatie. Het is belangrijk dat gebruikers kunnen inloggen en uitloggen. En dat ze hun wachtwoord kunnen resetten indien ze deze vergeten zijn.</em></p> <h2 id="mogelijkheden"><a href="#mogelijkheden" class="header-anchor">#</a> Mogelijkheden</h2> <p>Laravel biedt verschillende mogelijkheden om authenticatie te implementeren. Je kan kiezen voor een volledig zelfgeschreven authenticatie systeem. Of je kan gebruik maken van een package die dit voor jou doet. Laravel zelf biedt 2 packages aan om dit te doen. <code>laravel/ui</code> en <code>laravel/breeze</code>. Beide packages bieden een auth systeem aan. Maar <code>laravel/breeze</code> is meer recent en biedt meer mogelijkheden. Daarom zal ik hieronder beide packages bespreken.</p> <p><em><code>laravel ui</code> de minst overladen package en dus het eenvoudigst aan te passen. Deze maakt gebruik van Bootstrap maar deze is eenvoudig weg te halen. Maar zelf verwijzen ze in hun documentatie naar de meer recentere Laravel Breeze starter kit. Bij Laravel Breeze worden er heel wat meer routes, views en components geïnstalleerd die allemaal gestijld zijn met Tailwind. Waardoor deze minder flexibel is om aan te passen. Maar indien je voor je backoffice toch Tailwind wenst te gebruiken misschien een goede keuze.</em></p> <h2 id="laravel-ui"><a href="#laravel-ui" class="header-anchor">#</a> Laravel UI</h2> <p>Installeer de <code>laravel/ui</code> package</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>composer <span class="token keyword">require</span> laravel<span class="token operator">/</span>ui
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>En voer daarna een van onderstaande installatie script uit.</p> <blockquote><p><strong>Let wel op</strong> dat indien je zelf reeds een <code>layout/app.blaze.php</code> bestand hebt. Je deze eventueel hernoemt of dupliceert als backup. Want het installatie script zal een nieuwe layout installeren met dezelfde naam (hij vraagt wel eerst bevestiging)</p></blockquote> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// Kies een van onderstaande</span>
php artisan ui bootstrap <span class="token operator">--</span>auth
php artisan ui vue <span class="token operator">--</span>auth
php artisan ui react <span class="token operator">--</span>auth
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Je zal zien dat er nu Routes, Controllers en Views zijn aangemaakt om in te loggen, te registeren en naar het dashboard te gaan.</p> <p>Wat betreft het dashboard zit er een fout in deze package. Pas de route home aan naar dashboard:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// Route::get('/home', [App\Http\Controllers\HomeController::class, 'index'])-&gt;name('home');</span>
<span class="token comment">// Aanpassen naar</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/dashboard'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>HomeController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Je kan nu zelf een gebruiker aanmaken via <code>/register</code> en daarna inloggen via <code>/login</code>.</p> <h2 id="laravel-breeze"><a href="#laravel-breeze" class="header-anchor">#</a> Laravel Breeze</h2> <p>Voor Laravel Breeze moet je gelijkaardige stappen doorlopen. Installeer de package:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>composer <span class="token keyword">require</span> laravel<span class="token operator">/</span>breeze <span class="token operator">--</span>dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Om daarna de scripts te runnen en de javascript en css te builden.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>php artisan breeze<span class="token punctuation">:</span>install
 
php artisan migrate
npm install
npm run dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Je kan nu zelf een gebruiker aanmaken via <code>/register</code> en daarna inloggen via <code>/login</code>.</p> <h2 id="authenticatie-toepassen"><a href="#authenticatie-toepassen" class="header-anchor">#</a> Authenticatie toepassen</h2> <p>De bedoeling is dat je vanaf nu delen van je website kan afschermen.</p> <p>Dit kan op verschillende manieren. Je kan een volledige Controller beveiligen. Hiervoor gebruik je de constructor van die class en de middleware van auth. Hieronder een voorbeeld van de <code>AdminController.php</code>.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">AdminController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'auth'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Je kan uiteraard ook 1 bepaalde method beveiligen van een Controller. Bv de edit method.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">ProjectController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'auth'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Of meteen in de routing:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/admin'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name static-context">AdminController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'auth'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="huidige-user-ophalen"><a href="#huidige-user-ophalen" class="header-anchor">#</a> Huidige user ophalen</h2> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Auth</span><span class="token punctuation">;</span>
 
<span class="token comment">// Retrieve the currently authenticated user...</span>
<span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">Auth</span><span class="token operator">::</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">email</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="middleware-zelf-aanmaken"><a href="#middleware-zelf-aanmaken" class="header-anchor">#</a> Middleware zelf aanmaken</h2> <p>We hebben al gezien dat de middleware er kan voor zorgen dat er gekeken wordt of een bezoeker al dan niet is ingelogd.</p> <p>Maar meestal willen we ook gaan valideren of een ingelogde gebruiker bepaalde rechten heeft.</p> <p>Hiervoor kunnen we zelf een middleware aanmaken. Maak in eerste instantie de middleware class aan <code>app/Http/Middleware/AuthenticateAdmin.php</code> met onderstaande voorbeeldcode. Hierbij zal een bezoeker gecontroleerd worden of hij is ingelogd en de naam ‘George’ heeft.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>
<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Closure</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Auth<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>Authenticate</span> <span class="token keyword">as</span> Middleware<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">AuthenticateAdmin</span> <span class="token keyword">extends</span> <span class="token class-name">Middleware</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">handle</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Closure</span> <span class="token variable">$next</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token variable">$guards</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">!==</span> <span class="token string single-quoted-string">'George'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$next</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Daarna moeten we deze middleware toevoegen aan de lijst van routeMiddleware in <code>app/Http/Kernel.php</code>.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code> <span class="token keyword">protected</span> <span class="token variable">$routeMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'auth'</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>Authenticate</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'auth.admin'</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>AuthenticateAdmin</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Vanaf nu kunnen we deze middleware gaan gebruiken. De meest eenvoudige manier is om dit rechtstreeks in onze route te doen. Hieronder een voorbeeld van een pagina die dus enkel bereikbaar is voor ingelogde personen met de naam ‘George’.</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/george'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">'Enkel voor ingelogde gebruikers met de naam George'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'auth.admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <div class="page-nav"><div class="inner"><a href="/laravel/laravel/databases/relations.html" class="btn btn-left" data-v-3bc6a301><svg fill="currentColor" class="icon bi" data-v-6414aa66 data-v-3bc6a301><use xlink:href="/laravel/assets/img/bootstrap-icons.56d35f89.svg#arrow-left" data-v-6414aa66></use></svg> Relaties <!----></a> <a href="/laravel/laravel/advanced/file-storage.html" class="btn btn-right" data-v-3bc6a301><!----> File Storage <svg fill="currentColor" class="icon bi" data-v-6414aa66 data-v-3bc6a301><use xlink:href="/laravel/assets/img/bootstrap-icons.56d35f89.svg#arrow-right" data-v-6414aa66></use></svg></a></div></div> <footer class="page-edit"><span class="copyright">© 2023 Arteveldehogeschool</span> <span class="last-updated"><span class="prefix">Laatst bijgewerkt:</span> <span class="time">2/6/2023, 3:14:07 PM</span></span> <!----></footer> </main></div><div class="global-ui"></div></div>
    <script src="/laravel/assets/js/app.c5ce5469.js" defer></script><script src="/laravel/assets/js/2.7ca25b29.js" defer></script><script src="/laravel/assets/js/45.19ff6814.js" defer></script><script src="/laravel/assets/js/5.bcb32e3f.js" defer></script><script src="/laravel/assets/js/20.21de2408.js" defer></script><script src="/laravel/assets/js/3.19667c3e.js" defer></script>
  </body>
</html>
